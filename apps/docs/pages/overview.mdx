# Overview

This describes the resources that make up the Cerberus REST API. If you have any problems or requests, please contact [support](https://github.com/Thavarshan/cerberus/issues).

## Current Version

By default, all requests to `https://cerberus.onrender.com` receive the `v1` version of the REST API. We encourage you to explicitly request JSON content via the `Accept` and `Content-Type` header.

```
Accept: application/json
Content-Type: application/json
```

## Schema

All API access is over HTTPS and accessed from [https://cerberus.onrender.com](https://cerberus.onrender.com). All data is sent and received as JSON.

```bash
curl -I https://cerberus.onrender.com

HTTP/2 200
server: nginx
content-type: application/json
vary: Accept-Encoding
cache-control: no-cache, private
date: Fri, 26 Nov 2021 04:54:41 GMT
access-control-allow-origin: *
x-frame-options: SAMEORIGIN
x-xss-protection: 1; mode=block
x-content-type-options: nosniff
```

Blank fields are not included as null instead will be omitted.

All timestamps return in UTC time, ISO 8601 format:

```
YYYY-MM-DDTHH:MM:SSZ
```

## Parameters

Many API methods take optional parameters. For `GET` requests, any parameters not specified as a segment in the path can be passed as an `HTTP` query string parameter:

```bash
curl -i "https://cerberus.onrender.com/users?role=customers"
```

For `POST`, `PATCH`, `PUT`, and `DELETE` requests, parameters not included in the URL should be encoded as JSON with a `Content-Type` of 'application/json':

```bash
curl -i -d '{"email":"default.user@cerberus.com","password":"password"}' https://cerberus.onrender.com/login \
-H 'Content-Type: application/json' \
-H 'Accept: application/json'
```

## Root Endpoint

You can issue a `GET` request to the root endpoint to check the status of the REST API:

```bash
curl https://cerberus.onrender.com
```

## Client Errors

There are three possible types of client errors on API calls that receive request bodies:

1. Sending invalid JSON will result in a 400 Bad Request response.

```bash
HTTP/2 400
Content-Length: 35

{ "message": "Request was invalid" }
```

2. Sending invalid fields will result in a 400 Bad Request response.

```bash
HTTP/2 400
Content-Length: 149

{
    "message": "The given data was invalid.",
    "errors": {
        "email": [
            "These credentials do not match our records."
        ]
    }
}
```
